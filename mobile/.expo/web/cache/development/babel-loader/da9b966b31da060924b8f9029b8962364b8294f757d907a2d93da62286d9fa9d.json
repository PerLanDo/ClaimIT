{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Card, TextInput, Button, ActivityIndicator, Text as PaperText, Menu } from \"react-native-paper\";\nimport { SafeAreaView } from \"react-native-safe-area-context\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport { api, endpoints, uploadItem } from \"../../services/api\";\nimport { useAuth } from \"../../context/AuthContext\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ReportItemScreen = function ReportItemScreen() {\n  var navigation = useNavigation();\n  var _useAuth = useAuth(),\n    user = _useAuth.user;\n  var _useState = useState({\n      title: \"\",\n      description: \"\",\n      location: \"\",\n      dateLost: \"\",\n      dateFound: \"\"\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    formData = _useState2[0],\n    setFormData = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    selectedCategory = _useState4[0],\n    setSelectedCategory = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    categories = _useState6[0],\n    setCategories = _useState6[1];\n  var _useState7 = useState([]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    images = _useState8[0],\n    setImages = _useState8[1];\n  var _useState9 = useState(false),\n    _useState0 = _slicedToArray(_useState9, 2),\n    loading = _useState0[0],\n    setLoading = _useState0[1];\n  var _useState1 = useState(false),\n    _useState10 = _slicedToArray(_useState1, 2),\n    categoryMenuVisible = _useState10[0],\n    setCategoryMenuVisible = _useState10[1];\n  var _useState11 = useState(\"lost\"),\n    _useState12 = _slicedToArray(_useState11, 2),\n    itemType = _useState12[0],\n    setItemType = _useState12[1];\n  useEffect(function () {\n    loadCategories();\n  }, []);\n  var loadCategories = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var response = yield api.get(endpoints.categories);\n        setCategories(response.data || []);\n      } catch (error) {\n        console.error(\"Error loading categories:\", error);\n      }\n    });\n    return function loadCategories() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var handleInputChange = function handleInputChange(field, value) {\n    setFormData(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, field, value));\n    });\n  };\n  var handleCategorySelect = function handleCategorySelect(category) {\n    setSelectedCategory(category);\n    setCategoryMenuVisible(false);\n  };\n  var pickImage = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var permissionResult = yield ImagePicker.requestMediaLibraryPermissionsAsync();\n      if (permissionResult.granted === false) {\n        Alert.alert(\"Permission Required\", \"Permission to access camera roll is required!\");\n        return;\n      }\n      var result = yield ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\n        allowsMultipleSelection: true,\n        quality: 0.8,\n        allowsEditing: true\n      });\n      if (!result.canceled) {\n        var newImages = result.assets.map(function (asset) {\n          return asset.uri;\n        });\n        setImages(function (prev) {\n          return [].concat(_toConsumableArray(prev), _toConsumableArray(newImages)).slice(0, 5);\n        });\n      }\n    });\n    return function pickImage() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var takePhoto = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      var permissionResult = yield ImagePicker.requestCameraPermissionsAsync();\n      if (permissionResult.granted === false) {\n        Alert.alert(\"Permission Required\", \"Permission to access camera is required!\");\n        return;\n      }\n      var result = yield ImagePicker.launchCameraAsync({\n        quality: 0.8,\n        allowsEditing: true\n      });\n      if (!result.canceled && result.assets[0]) {\n        setImages(function (prev) {\n          return [].concat(_toConsumableArray(prev), [result.assets[0].uri]).slice(0, 5);\n        });\n      }\n    });\n    return function takePhoto() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var removeImage = function removeImage(index) {\n    setImages(function (prev) {\n      return prev.filter(function (_, i) {\n        return i !== index;\n      });\n    });\n  };\n  var showImageOptions = function showImageOptions() {\n    Alert.alert(\"Add Image\", \"Choose an option\", [{\n      text: \"Camera\",\n      onPress: takePhoto\n    }, {\n      text: \"Photo Library\",\n      onPress: pickImage\n    }, {\n      text: \"Cancel\",\n      style: \"cancel\"\n    }]);\n  };\n  var validateForm = function validateForm() {\n    if (!formData.title.trim()) {\n      Alert.alert(\"Validation Error\", \"Please enter a title for the item\");\n      return false;\n    }\n    if (!formData.description.trim()) {\n      Alert.alert(\"Validation Error\", \"Please enter a description\");\n      return false;\n    }\n    if (!selectedCategory) {\n      Alert.alert(\"Validation Error\", \"Please select a category\");\n      return false;\n    }\n    if (!formData.location.trim()) {\n      Alert.alert(\"Validation Error\", \"Please enter the location\");\n      return false;\n    }\n    if (itemType === \"lost\" && !formData.dateLost) {\n      Alert.alert(\"Validation Error\", \"Please enter the date when the item was lost\");\n      return false;\n    }\n    if (itemType === \"found\" && !formData.dateFound) {\n      Alert.alert(\"Validation Error\", \"Please enter the date when the item was found\");\n      return false;\n    }\n    return true;\n  };\n  var handleSubmit = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      if (!validateForm()) return;\n      setLoading(true);\n      try {\n        var submitData = {\n          title: formData.title.trim(),\n          description: formData.description.trim(),\n          categoryId: selectedCategory.id,\n          location: formData.location.trim(),\n          dateLost: itemType === \"lost\" ? formData.dateLost : undefined,\n          dateFound: itemType === \"found\" ? formData.dateFound : undefined\n        };\n        var imageData = images.map(function (uri) {\n          return {\n            uri: uri,\n            type: \"image/jpeg\"\n          };\n        });\n        var response = yield uploadItem(submitData, imageData);\n        Alert.alert(\"Success\", \"Item reported successfully!\", [{\n          text: \"OK\",\n          onPress: function onPress() {\n            return navigation.goBack();\n          }\n        }]);\n      } catch (error) {\n        var _error$response, _error$response$data;\n        console.error(\"Error submitting item:\", error);\n        Alert.alert(\"Error\", ((_error$response = error.response) == null ? void 0 : (_error$response$data = _error$response.data) == null ? void 0 : _error$response$data.error) || \"Failed to submit item. Please try again.\");\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function handleSubmit() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var renderImageUpload = function renderImageUpload() {\n    return _jsxs(View, {\n      style: styles.imageUploadContainer,\n      children: [_jsx(PaperText, {\n        style: styles.sectionTitle,\n        children: \"Upload Images\"\n      }), _jsx(TouchableOpacity, {\n        style: styles.uploadButton,\n        onPress: showImageOptions,\n        children: _jsx(PaperText, {\n          style: styles.uploadButtonText,\n          children: \"Upload Image\"\n        })\n      }), images.length > 0 && _jsx(View, {\n        style: styles.imageGrid,\n        children: images.map(function (imageUri, index) {\n          return _jsxs(View, {\n            style: styles.imageContainer,\n            children: [_jsx(Image, {\n              source: {\n                uri: imageUri\n              },\n              style: styles.uploadedImage\n            }), _jsx(TouchableOpacity, {\n              style: styles.removeImageButton,\n              onPress: function onPress() {\n                return removeImage(index);\n              },\n              children: _jsx(PaperText, {\n                style: styles.removeImageText,\n                children: \"\\xD7\"\n              })\n            })]\n          }, index);\n        })\n      })]\n    });\n  };\n  return _jsx(SafeAreaView, {\n    style: styles.container,\n    children: _jsxs(ScrollView, {\n      style: styles.scrollView,\n      showsVerticalScrollIndicator: false,\n      children: [_jsxs(View, {\n        style: styles.typeContainer,\n        children: [_jsx(TouchableOpacity, {\n          style: [styles.typeButton, itemType === \"lost\" && styles.activeTypeButton],\n          onPress: function onPress() {\n            return setItemType(\"lost\");\n          },\n          children: _jsx(PaperText, {\n            style: [styles.typeButtonText, itemType === \"lost\" && styles.activeTypeButtonText],\n            children: \"Lost Item\"\n          })\n        }), _jsx(TouchableOpacity, {\n          style: [styles.typeButton, itemType === \"found\" && styles.activeTypeButton],\n          onPress: function onPress() {\n            return setItemType(\"found\");\n          },\n          children: _jsx(PaperText, {\n            style: [styles.typeButtonText, itemType === \"found\" && styles.activeTypeButtonText],\n            children: \"Found Item\"\n          })\n        })]\n      }), _jsx(Card, {\n        style: styles.formCard,\n        children: _jsxs(Card.Content, {\n          children: [_jsx(TextInput, {\n            label: \"Title\",\n            value: formData.title,\n            onChangeText: function onChangeText(value) {\n              return handleInputChange(\"title\", value);\n            },\n            style: styles.input,\n            mode: \"outlined\",\n            placeholder: \"e.g., Blue Water Bottle\"\n          }), _jsx(TextInput, {\n            label: \"Description\",\n            value: formData.description,\n            onChangeText: function onChangeText(value) {\n              return handleInputChange(\"description\", value);\n            },\n            style: styles.input,\n            mode: \"outlined\",\n            multiline: true,\n            numberOfLines: 3,\n            placeholder: \"Describe the item in detail...\"\n          }), _jsxs(View, {\n            style: styles.categoryContainer,\n            children: [_jsx(PaperText, {\n              style: styles.inputLabel,\n              children: \"Category\"\n            }), _jsx(Menu, {\n              visible: categoryMenuVisible,\n              onDismiss: function onDismiss() {\n                return setCategoryMenuVisible(false);\n              },\n              anchor: _jsxs(TouchableOpacity, {\n                style: styles.categoryButton,\n                onPress: function onPress() {\n                  return setCategoryMenuVisible(true);\n                },\n                children: [_jsx(PaperText, {\n                  style: styles.categoryButtonText,\n                  children: selectedCategory ? selectedCategory.name : \"Select Category\"\n                }), _jsx(PaperText, {\n                  style: styles.categoryArrow,\n                  children: \"\\u2191\"\n                })]\n              }),\n              children: categories.map(function (category) {\n                return _jsx(Menu.Item, {\n                  onPress: function onPress() {\n                    return handleCategorySelect(category);\n                  },\n                  title: category.name\n                }, category.id);\n              })\n            })]\n          }), _jsxs(View, {\n            style: styles.categoryExamples,\n            children: [_jsx(PaperText, {\n              style: styles.categoryExamplesText,\n              children: \"e.g., Electronics, Apparel, Books\"\n            }), _jsx(View, {\n              style: styles.verifiedIcon,\n              children: _jsx(PaperText, {\n                style: styles.verifiedText,\n                children: \"\\u2713\"\n              })\n            })]\n          }), _jsx(TextInput, {\n            label: \"Location\",\n            value: formData.location,\n            onChangeText: function onChangeText(value) {\n              return handleInputChange(\"location\", value);\n            },\n            style: styles.input,\n            mode: \"outlined\",\n            placeholder: \"e.g., University Library, Cafeteria\"\n          }), _jsx(TextInput, {\n            label: `Date ${itemType === \"lost\" ? \"Lost\" : \"Found\"}`,\n            value: itemType === \"lost\" ? formData.dateLost : formData.dateFound,\n            onChangeText: function onChangeText(value) {\n              return handleInputChange(itemType === \"lost\" ? \"dateLost\" : \"dateFound\", value);\n            },\n            style: styles.input,\n            mode: \"outlined\",\n            placeholder: \"YYYY-MM-DD\"\n          })]\n        })\n      }), renderImageUpload(), _jsx(View, {\n        style: styles.submitContainer,\n        children: _jsx(Button, {\n          mode: \"contained\",\n          onPress: handleSubmit,\n          style: styles.submitButton,\n          contentStyle: styles.submitButtonContent,\n          disabled: loading,\n          buttonColor: \"#8B1538\",\n          children: loading ? _jsx(ActivityIndicator, {\n            color: \"white\"\n          }) : \"Submit\"\n        })\n      })]\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#F5F5F5\"\n  },\n  scrollView: {\n    flex: 1\n  },\n  typeContainer: {\n    flexDirection: \"row\",\n    margin: 16,\n    backgroundColor: \"white\",\n    borderRadius: 8,\n    padding: 4\n  },\n  typeButton: {\n    flex: 1,\n    paddingVertical: 12,\n    alignItems: \"center\",\n    borderRadius: 6\n  },\n  activeTypeButton: {\n    backgroundColor: \"#8B1538\"\n  },\n  typeButtonText: {\n    fontSize: 16,\n    color: \"#757575\",\n    fontWeight: \"500\"\n  },\n  activeTypeButtonText: {\n    color: \"white\",\n    fontWeight: \"bold\"\n  },\n  formCard: {\n    marginHorizontal: 16,\n    marginBottom: 16,\n    backgroundColor: \"white\"\n  },\n  input: {\n    marginBottom: 16\n  },\n  inputLabel: {\n    fontSize: 16,\n    color: \"#424242\",\n    marginBottom: 8\n  },\n  categoryContainer: {\n    marginBottom: 8\n  },\n  categoryButton: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    borderWidth: 1,\n    borderColor: \"#E0E0E0\",\n    borderRadius: 4,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    backgroundColor: \"#FAFAFA\"\n  },\n  categoryButtonText: {\n    fontSize: 16,\n    color: \"#424242\"\n  },\n  categoryArrow: {\n    fontSize: 16,\n    color: \"#757575\"\n  },\n  categoryExamples: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginBottom: 16\n  },\n  categoryExamplesText: {\n    fontSize: 12,\n    color: \"#757575\",\n    flex: 1\n  },\n  verifiedIcon: {\n    backgroundColor: \"#4CAF50\",\n    borderRadius: 10,\n    width: 20,\n    height: 20,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  verifiedText: {\n    color: \"white\",\n    fontSize: 12,\n    fontWeight: \"bold\"\n  },\n  imageUploadContainer: {\n    marginHorizontal: 16,\n    marginBottom: 16\n  },\n  sectionTitle: {\n    fontSize: 16,\n    fontWeight: \"bold\",\n    color: \"#424242\",\n    marginBottom: 12\n  },\n  uploadButton: {\n    borderWidth: 2,\n    borderColor: \"#8B1538\",\n    borderStyle: \"dashed\",\n    borderRadius: 8,\n    paddingVertical: 40,\n    alignItems: \"center\",\n    backgroundColor: \"white\",\n    marginBottom: 16\n  },\n  uploadButtonText: {\n    fontSize: 16,\n    color: \"#8B1538\",\n    fontWeight: \"500\"\n  },\n  imageGrid: {\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    gap: 12\n  },\n  imageContainer: {\n    position: \"relative\"\n  },\n  uploadedImage: {\n    width: 80,\n    height: 80,\n    borderRadius: 8\n  },\n  removeImageButton: {\n    position: \"absolute\",\n    top: -8,\n    right: -8,\n    backgroundColor: \"#F44336\",\n    borderRadius: 12,\n    width: 24,\n    height: 24,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  removeImageText: {\n    color: \"white\",\n    fontSize: 16,\n    fontWeight: \"bold\"\n  },\n  submitContainer: {\n    marginHorizontal: 16,\n    marginBottom: 32\n  },\n  submitButton: {\n    borderRadius: 8\n  },\n  submitButtonContent: {\n    paddingVertical: 12\n  }\n});\nexport default ReportItemScreen;","map":{"version":3,"names":["React","useState","useEffect","View","StyleSheet","ScrollView","TouchableOpacity","Image","Alert","Card","TextInput","Button","ActivityIndicator","Text","PaperText","Menu","SafeAreaView","useNavigation","ImagePicker","api","endpoints","uploadItem","useAuth","jsx","_jsx","jsxs","_jsxs","ReportItemScreen","navigation","_useAuth","user","_useState","title","description","location","dateLost","dateFound","_useState2","_slicedToArray","formData","setFormData","_useState3","_useState4","selectedCategory","setSelectedCategory","_useState5","_useState6","categories","setCategories","_useState7","_useState8","images","setImages","_useState9","_useState0","loading","setLoading","_useState1","_useState10","categoryMenuVisible","setCategoryMenuVisible","_useState11","_useState12","itemType","setItemType","loadCategories","_ref","_asyncToGenerator","response","get","data","error","console","apply","arguments","handleInputChange","field","value","prev","_objectSpread","_defineProperty","handleCategorySelect","category","pickImage","_ref2","permissionResult","requestMediaLibraryPermissionsAsync","granted","alert","result","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","allowsMultipleSelection","quality","allowsEditing","canceled","newImages","assets","map","asset","uri","concat","_toConsumableArray","slice","takePhoto","_ref3","requestCameraPermissionsAsync","launchCameraAsync","removeImage","index","filter","_","i","showImageOptions","text","onPress","style","validateForm","trim","handleSubmit","_ref4","submitData","categoryId","id","undefined","imageData","type","goBack","_error$response","_error$response$data","renderImageUpload","styles","imageUploadContainer","children","sectionTitle","uploadButton","uploadButtonText","length","imageGrid","imageUri","imageContainer","source","uploadedImage","removeImageButton","removeImageText","container","scrollView","showsVerticalScrollIndicator","typeContainer","typeButton","activeTypeButton","typeButtonText","activeTypeButtonText","formCard","Content","label","onChangeText","input","mode","placeholder","multiline","numberOfLines","categoryContainer","inputLabel","visible","onDismiss","anchor","categoryButton","categoryButtonText","name","categoryArrow","Item","categoryExamples","categoryExamplesText","verifiedIcon","verifiedText","submitContainer","submitButton","contentStyle","submitButtonContent","disabled","buttonColor","color","create","flex","backgroundColor","flexDirection","margin","borderRadius","padding","paddingVertical","alignItems","fontSize","fontWeight","marginHorizontal","marginBottom","justifyContent","borderWidth","borderColor","paddingHorizontal","width","height","borderStyle","flexWrap","gap","position","top","right"],"sources":["C:/Users/Asus/Desktop/Programming/ClaimIT/ClaimIT/mobile/src/screens/main/ReportItemScreen.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  View,\r\n  Text,\r\n  StyleSheet,\r\n  ScrollView,\r\n  TouchableOpacity,\r\n  Image,\r\n  Alert,\r\n} from \"react-native\";\r\nimport {\r\n  Card,\r\n  TextInput,\r\n  Button,\r\n  Chip,\r\n  FAB,\r\n  ActivityIndicator,\r\n  Text as PaperText,\r\n  Menu,\r\n  Divider,\r\n} from \"react-native-paper\";\r\nimport { SafeAreaView } from \"react-native-safe-area-context\";\r\nimport { useNavigation } from \"@react-navigation/native\";\r\nimport * as ImagePicker from \"expo-image-picker\";\r\nimport moment from \"moment\";\r\nimport { api, endpoints, uploadItem } from \"../../services/api\";\r\nimport { useAuth } from \"../../context/AuthContext\";\r\n\r\ninterface Category {\r\n  id: string;\r\n  name: string;\r\n  icon: string;\r\n}\r\n\r\nconst ReportItemScreen: React.FC = () => {\r\n  const navigation = useNavigation();\r\n  const { user } = useAuth();\r\n\r\n  const [formData, setFormData] = useState({\r\n    title: \"\",\r\n    description: \"\",\r\n    location: \"\",\r\n    dateLost: \"\",\r\n    dateFound: \"\",\r\n  });\r\n  const [selectedCategory, setSelectedCategory] = useState<Category | null>(\r\n    null\r\n  );\r\n  const [categories, setCategories] = useState<Category[]>([]);\r\n  const [images, setImages] = useState<string[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [categoryMenuVisible, setCategoryMenuVisible] = useState(false);\r\n  const [itemType, setItemType] = useState<\"lost\" | \"found\">(\"lost\");\r\n\r\n  useEffect(() => {\r\n    loadCategories();\r\n  }, []);\r\n\r\n  const loadCategories = async () => {\r\n    try {\r\n      const response = await api.get(endpoints.categories);\r\n      setCategories(response.data || []);\r\n    } catch (error) {\r\n      console.error(\"Error loading categories:\", error);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (field: string, value: string) => {\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [field]: value,\r\n    }));\r\n  };\r\n\r\n  const handleCategorySelect = (category: Category) => {\r\n    setSelectedCategory(category);\r\n    setCategoryMenuVisible(false);\r\n  };\r\n\r\n  const pickImage = async () => {\r\n    const permissionResult =\r\n      await ImagePicker.requestMediaLibraryPermissionsAsync();\r\n\r\n    if (permissionResult.granted === false) {\r\n      Alert.alert(\r\n        \"Permission Required\",\r\n        \"Permission to access camera roll is required!\"\r\n      );\r\n      return;\r\n    }\r\n\r\n    const result = await ImagePicker.launchImageLibraryAsync({\r\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n      allowsMultipleSelection: true,\r\n      quality: 0.8,\r\n      allowsEditing: true,\r\n    });\r\n\r\n    if (!result.canceled) {\r\n      const newImages = result.assets.map((asset) => asset.uri);\r\n      setImages((prev) => [...prev, ...newImages].slice(0, 5)); // Max 5 images\r\n    }\r\n  };\r\n\r\n  const takePhoto = async () => {\r\n    const permissionResult = await ImagePicker.requestCameraPermissionsAsync();\r\n\r\n    if (permissionResult.granted === false) {\r\n      Alert.alert(\r\n        \"Permission Required\",\r\n        \"Permission to access camera is required!\"\r\n      );\r\n      return;\r\n    }\r\n\r\n    const result = await ImagePicker.launchCameraAsync({\r\n      quality: 0.8,\r\n      allowsEditing: true,\r\n    });\r\n\r\n    if (!result.canceled && result.assets[0]) {\r\n      setImages((prev) => [...prev, result.assets[0].uri].slice(0, 5)); // Max 5 images\r\n    }\r\n  };\r\n\r\n  const removeImage = (index: number) => {\r\n    setImages((prev) => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const showImageOptions = () => {\r\n    Alert.alert(\"Add Image\", \"Choose an option\", [\r\n      { text: \"Camera\", onPress: takePhoto },\r\n      { text: \"Photo Library\", onPress: pickImage },\r\n      { text: \"Cancel\", style: \"cancel\" },\r\n    ]);\r\n  };\r\n\r\n  const validateForm = () => {\r\n    if (!formData.title.trim()) {\r\n      Alert.alert(\"Validation Error\", \"Please enter a title for the item\");\r\n      return false;\r\n    }\r\n\r\n    if (!formData.description.trim()) {\r\n      Alert.alert(\"Validation Error\", \"Please enter a description\");\r\n      return false;\r\n    }\r\n\r\n    if (!selectedCategory) {\r\n      Alert.alert(\"Validation Error\", \"Please select a category\");\r\n      return false;\r\n    }\r\n\r\n    if (!formData.location.trim()) {\r\n      Alert.alert(\"Validation Error\", \"Please enter the location\");\r\n      return false;\r\n    }\r\n\r\n    if (itemType === \"lost\" && !formData.dateLost) {\r\n      Alert.alert(\r\n        \"Validation Error\",\r\n        \"Please enter the date when the item was lost\"\r\n      );\r\n      return false;\r\n    }\r\n\r\n    if (itemType === \"found\" && !formData.dateFound) {\r\n      Alert.alert(\r\n        \"Validation Error\",\r\n        \"Please enter the date when the item was found\"\r\n      );\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!validateForm()) return;\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      const submitData = {\r\n        title: formData.title.trim(),\r\n        description: formData.description.trim(),\r\n        categoryId: selectedCategory!.id,\r\n        location: formData.location.trim(),\r\n        dateLost: itemType === \"lost\" ? formData.dateLost : undefined,\r\n        dateFound: itemType === \"found\" ? formData.dateFound : undefined,\r\n      };\r\n\r\n      const imageData = images.map((uri) => ({\r\n        uri,\r\n        type: \"image/jpeg\",\r\n      }));\r\n\r\n      const response = await uploadItem(submitData, imageData);\r\n\r\n      Alert.alert(\"Success\", \"Item reported successfully!\", [\r\n        {\r\n          text: \"OK\",\r\n          onPress: () => navigation.goBack(),\r\n        },\r\n      ]);\r\n    } catch (error: any) {\r\n      console.error(\"Error submitting item:\", error);\r\n      Alert.alert(\r\n        \"Error\",\r\n        error.response?.data?.error ||\r\n          \"Failed to submit item. Please try again.\"\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const renderImageUpload = () => (\r\n    <View style={styles.imageUploadContainer}>\r\n      <PaperText style={styles.sectionTitle}>Upload Images</PaperText>\r\n\r\n      <TouchableOpacity style={styles.uploadButton} onPress={showImageOptions}>\r\n        <PaperText style={styles.uploadButtonText}>Upload Image</PaperText>\r\n      </TouchableOpacity>\r\n\r\n      {images.length > 0 && (\r\n        <View style={styles.imageGrid}>\r\n          {images.map((imageUri, index) => (\r\n            <View key={index} style={styles.imageContainer}>\r\n              <Image source={{ uri: imageUri }} style={styles.uploadedImage} />\r\n              <TouchableOpacity\r\n                style={styles.removeImageButton}\r\n                onPress={() => removeImage(index)}\r\n              >\r\n                <PaperText style={styles.removeImageText}>×</PaperText>\r\n              </TouchableOpacity>\r\n            </View>\r\n          ))}\r\n        </View>\r\n      )}\r\n    </View>\r\n  );\r\n\r\n  return (\r\n    <SafeAreaView style={styles.container}>\r\n      <ScrollView\r\n        style={styles.scrollView}\r\n        showsVerticalScrollIndicator={false}\r\n      >\r\n        {/* Item Type Selection */}\r\n        <View style={styles.typeContainer}>\r\n          <TouchableOpacity\r\n            style={[\r\n              styles.typeButton,\r\n              itemType === \"lost\" && styles.activeTypeButton,\r\n            ]}\r\n            onPress={() => setItemType(\"lost\")}\r\n          >\r\n            <PaperText\r\n              style={[\r\n                styles.typeButtonText,\r\n                itemType === \"lost\" && styles.activeTypeButtonText,\r\n              ]}\r\n            >\r\n              Lost Item\r\n            </PaperText>\r\n          </TouchableOpacity>\r\n\r\n          <TouchableOpacity\r\n            style={[\r\n              styles.typeButton,\r\n              itemType === \"found\" && styles.activeTypeButton,\r\n            ]}\r\n            onPress={() => setItemType(\"found\")}\r\n          >\r\n            <PaperText\r\n              style={[\r\n                styles.typeButtonText,\r\n                itemType === \"found\" && styles.activeTypeButtonText,\r\n              ]}\r\n            >\r\n              Found Item\r\n            </PaperText>\r\n          </TouchableOpacity>\r\n        </View>\r\n\r\n        {/* Form Fields */}\r\n        <Card style={styles.formCard}>\r\n          <Card.Content>\r\n            <TextInput\r\n              label=\"Title\"\r\n              value={formData.title}\r\n              onChangeText={(value) => handleInputChange(\"title\", value)}\r\n              style={styles.input}\r\n              mode=\"outlined\"\r\n              placeholder=\"e.g., Blue Water Bottle\"\r\n            />\r\n\r\n            <TextInput\r\n              label=\"Description\"\r\n              value={formData.description}\r\n              onChangeText={(value) => handleInputChange(\"description\", value)}\r\n              style={styles.input}\r\n              mode=\"outlined\"\r\n              multiline\r\n              numberOfLines={3}\r\n              placeholder=\"Describe the item in detail...\"\r\n            />\r\n\r\n            {/* Category Selection */}\r\n            <View style={styles.categoryContainer}>\r\n              <PaperText style={styles.inputLabel}>Category</PaperText>\r\n              <Menu\r\n                visible={categoryMenuVisible}\r\n                onDismiss={() => setCategoryMenuVisible(false)}\r\n                anchor={\r\n                  <TouchableOpacity\r\n                    style={styles.categoryButton}\r\n                    onPress={() => setCategoryMenuVisible(true)}\r\n                  >\r\n                    <PaperText style={styles.categoryButtonText}>\r\n                      {selectedCategory\r\n                        ? selectedCategory.name\r\n                        : \"Select Category\"}\r\n                    </PaperText>\r\n                    <PaperText style={styles.categoryArrow}>↑</PaperText>\r\n                  </TouchableOpacity>\r\n                }\r\n              >\r\n                {categories.map((category) => (\r\n                  <Menu.Item\r\n                    key={category.id}\r\n                    onPress={() => handleCategorySelect(category)}\r\n                    title={category.name}\r\n                  />\r\n                ))}\r\n              </Menu>\r\n            </View>\r\n\r\n            {/* Category Examples */}\r\n            <View style={styles.categoryExamples}>\r\n              <PaperText style={styles.categoryExamplesText}>\r\n                e.g., Electronics, Apparel, Books\r\n              </PaperText>\r\n              <View style={styles.verifiedIcon}>\r\n                <PaperText style={styles.verifiedText}>✓</PaperText>\r\n              </View>\r\n            </View>\r\n\r\n            <TextInput\r\n              label=\"Location\"\r\n              value={formData.location}\r\n              onChangeText={(value) => handleInputChange(\"location\", value)}\r\n              style={styles.input}\r\n              mode=\"outlined\"\r\n              placeholder=\"e.g., University Library, Cafeteria\"\r\n            />\r\n\r\n            <TextInput\r\n              label={`Date ${itemType === \"lost\" ? \"Lost\" : \"Found\"}`}\r\n              value={\r\n                itemType === \"lost\" ? formData.dateLost : formData.dateFound\r\n              }\r\n              onChangeText={(value) =>\r\n                handleInputChange(\r\n                  itemType === \"lost\" ? \"dateLost\" : \"dateFound\",\r\n                  value\r\n                )\r\n              }\r\n              style={styles.input}\r\n              mode=\"outlined\"\r\n              placeholder=\"YYYY-MM-DD\"\r\n            />\r\n          </Card.Content>\r\n        </Card>\r\n\r\n        {/* Image Upload */}\r\n        {renderImageUpload()}\r\n\r\n        {/* Submit Button */}\r\n        <View style={styles.submitContainer}>\r\n          <Button\r\n            mode=\"contained\"\r\n            onPress={handleSubmit}\r\n            style={styles.submitButton}\r\n            contentStyle={styles.submitButtonContent}\r\n            disabled={loading}\r\n            buttonColor=\"#8B1538\"\r\n          >\r\n            {loading ? <ActivityIndicator color=\"white\" /> : \"Submit\"}\r\n          </Button>\r\n        </View>\r\n      </ScrollView>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: \"#F5F5F5\",\r\n  },\r\n  scrollView: {\r\n    flex: 1,\r\n  },\r\n  typeContainer: {\r\n    flexDirection: \"row\",\r\n    margin: 16,\r\n    backgroundColor: \"white\",\r\n    borderRadius: 8,\r\n    padding: 4,\r\n  },\r\n  typeButton: {\r\n    flex: 1,\r\n    paddingVertical: 12,\r\n    alignItems: \"center\",\r\n    borderRadius: 6,\r\n  },\r\n  activeTypeButton: {\r\n    backgroundColor: \"#8B1538\",\r\n  },\r\n  typeButtonText: {\r\n    fontSize: 16,\r\n    color: \"#757575\",\r\n    fontWeight: \"500\",\r\n  },\r\n  activeTypeButtonText: {\r\n    color: \"white\",\r\n    fontWeight: \"bold\",\r\n  },\r\n  formCard: {\r\n    marginHorizontal: 16,\r\n    marginBottom: 16,\r\n    backgroundColor: \"white\",\r\n  },\r\n  input: {\r\n    marginBottom: 16,\r\n  },\r\n  inputLabel: {\r\n    fontSize: 16,\r\n    color: \"#424242\",\r\n    marginBottom: 8,\r\n  },\r\n  categoryContainer: {\r\n    marginBottom: 8,\r\n  },\r\n  categoryButton: {\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n    borderWidth: 1,\r\n    borderColor: \"#E0E0E0\",\r\n    borderRadius: 4,\r\n    paddingHorizontal: 16,\r\n    paddingVertical: 12,\r\n    backgroundColor: \"#FAFAFA\",\r\n  },\r\n  categoryButtonText: {\r\n    fontSize: 16,\r\n    color: \"#424242\",\r\n  },\r\n  categoryArrow: {\r\n    fontSize: 16,\r\n    color: \"#757575\",\r\n  },\r\n  categoryExamples: {\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    marginBottom: 16,\r\n  },\r\n  categoryExamplesText: {\r\n    fontSize: 12,\r\n    color: \"#757575\",\r\n    flex: 1,\r\n  },\r\n  verifiedIcon: {\r\n    backgroundColor: \"#4CAF50\",\r\n    borderRadius: 10,\r\n    width: 20,\r\n    height: 20,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  verifiedText: {\r\n    color: \"white\",\r\n    fontSize: 12,\r\n    fontWeight: \"bold\",\r\n  },\r\n  imageUploadContainer: {\r\n    marginHorizontal: 16,\r\n    marginBottom: 16,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 16,\r\n    fontWeight: \"bold\",\r\n    color: \"#424242\",\r\n    marginBottom: 12,\r\n  },\r\n  uploadButton: {\r\n    borderWidth: 2,\r\n    borderColor: \"#8B1538\",\r\n    borderStyle: \"dashed\",\r\n    borderRadius: 8,\r\n    paddingVertical: 40,\r\n    alignItems: \"center\",\r\n    backgroundColor: \"white\",\r\n    marginBottom: 16,\r\n  },\r\n  uploadButtonText: {\r\n    fontSize: 16,\r\n    color: \"#8B1538\",\r\n    fontWeight: \"500\",\r\n  },\r\n  imageGrid: {\r\n    flexDirection: \"row\",\r\n    flexWrap: \"wrap\",\r\n    gap: 12,\r\n  },\r\n  imageContainer: {\r\n    position: \"relative\",\r\n  },\r\n  uploadedImage: {\r\n    width: 80,\r\n    height: 80,\r\n    borderRadius: 8,\r\n  },\r\n  removeImageButton: {\r\n    position: \"absolute\",\r\n    top: -8,\r\n    right: -8,\r\n    backgroundColor: \"#F44336\",\r\n    borderRadius: 12,\r\n    width: 24,\r\n    height: 24,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  removeImageText: {\r\n    color: \"white\",\r\n    fontSize: 16,\r\n    fontWeight: \"bold\",\r\n  },\r\n  submitContainer: {\r\n    marginHorizontal: 16,\r\n    marginBottom: 32,\r\n  },\r\n  submitButton: {\r\n    borderRadius: 8,\r\n  },\r\n  submitButtonContent: {\r\n    paddingVertical: 12,\r\n  },\r\n});\r\n\r\nexport default ReportItemScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}